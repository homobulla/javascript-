### 函数

`js`中设计最出色的部分。所谓编程就是将一组需求分解成一组函数与数据结构的技能。

每个函数在创建时，会有两个隐藏属性：函数的上下文和实现函数行为的代码。

通过函数字面量创建的函数对象包含一个连接到外部上下文的连接，这就是闭包(closure).

#### 调用

调用一个函数会暂停当前的函数执行，传递控制权和参数给新函数。除了申明时定义的形式参数，每个函数还接受两个参数：`this`和`arguments`。
`this`的值与其调用的方式有关，在`js`中四种调用方式：

-   方法调用模式：即函数保存为对象的一个属性，this 会绑定到该对象上，绑定过程发生在调用时
-   函数调用模式：即直接函数调用，此时 this 是绑定在全局对象上（这是一个设计错误),通过将 this 赋值保存可以避免
-   构造器调用模式：即函数前有 new 关键字，此时会创建一个连接到该函数 prototype 的新对象，并将 this 绑定在新对象上，最后 return 出新对象
-   apply 调用模式：函数可以拥有方法，Funtion.apply(绑定给 this 的值，数组)

#### 参数

函数调用会得到一个‘免费配送’的参数`arguments`,该参数为一个类数组（即拥有`length`属性，但没有数组的一系方法）

#### 扩充类型的功能

js 允许给语言的基本类型扩充功能，比如给函数类型添加一个方法：

```js
Function.prototype.method = function(name, func) {
    if (!this.prototype[name]) {
        this.prototype[name] = func
        return this
    }
}
Number
```
